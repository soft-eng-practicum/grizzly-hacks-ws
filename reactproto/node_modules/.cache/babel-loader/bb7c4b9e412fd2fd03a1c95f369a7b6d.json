{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _throttle = _interopRequireDefault(require(\"./throttle\"));\n\nfunction isEqualArray(a, b) {\n  return a.length === b.length && a.every(function (item, index) {\n    return item === b[index];\n  });\n}\n\nvar Scrollspy =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inherits2.default)(Scrollspy, _React$Component);\n  (0, _createClass2.default)(Scrollspy, null, [{\n    key: \"propTypes\",\n    get: function get() {\n      return {\n        items: _propTypes.default.arrayOf(_propTypes.default.string).isRequired,\n        currentClassName: _propTypes.default.string.isRequired,\n        scrolledPastClassName: _propTypes.default.string,\n        style: _propTypes.default.object,\n        componentTag: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.element]),\n        offset: _propTypes.default.number,\n        rootEl: _propTypes.default.string,\n        onUpdate: _propTypes.default.func\n      };\n    }\n  }, {\n    key: \"defaultProps\",\n    get: function get() {\n      return {\n        items: [],\n        currentClassName: '',\n        style: {},\n        componentTag: 'ul',\n        offset: 0,\n        onUpdate: function onUpdate() {}\n      };\n    }\n  }]);\n\n  function Scrollspy(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Scrollspy);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(Scrollspy).call(this, props));\n    _this.state = {\n      targetItems: [],\n      inViewState: [],\n      isScrolledPast: [] // manually bind as ES6 does not apply this\n      // auto binding as React.createClass does\n\n    };\n    _this._handleSpy = _this._handleSpy.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  (0, _createClass2.default)(Scrollspy, [{\n    key: \"_initSpyTarget\",\n    value: function _initSpyTarget(items) {\n      var targetItems = items.map(function (item) {\n        return document.getElementById(item);\n      });\n      return targetItems;\n    } // https://github.com/makotot/react-scrollspy/pull/45\n\n  }, {\n    key: \"_fillArray\",\n    value: function _fillArray(array, val) {\n      var newArray = [];\n\n      for (var i = 0, max = array.length; i < max; i++) {\n        newArray[i] = val;\n      }\n\n      return newArray;\n    }\n  }, {\n    key: \"_isScrolled\",\n    value: function _isScrolled() {\n      return this._getScrollDimension().scrollTop > 0;\n    }\n  }, {\n    key: \"_getScrollDimension\",\n    value: function _getScrollDimension() {\n      var doc = document;\n      var rootEl = this.props.rootEl;\n      var scrollTop = rootEl ? doc.querySelector(rootEl).scrollTop : doc.documentElement.scrollTop || doc.body.parentNode.scrollTop || doc.body.scrollTop;\n      var scrollHeight = rootEl ? doc.querySelector(rootEl).scrollHeight : doc.documentElement.scrollHeight || doc.body.parentNode.scrollHeight || doc.body.scrollHeight;\n      return {\n        scrollTop: scrollTop,\n        scrollHeight: scrollHeight\n      };\n    }\n  }, {\n    key: \"_getElemsViewState\",\n    value: function _getElemsViewState(targets) {\n      var elemsInView = [];\n      var elemsOutView = [];\n      var viewStatusList = [];\n      var targetItems = targets ? targets : this.state.targetItems;\n      var hasInViewAlready = false;\n\n      for (var i = 0, max = targetItems.length; i < max; i++) {\n        var currentContent = targetItems[i];\n        var isInView = hasInViewAlready ? false : this._isInView(currentContent);\n\n        if (isInView) {\n          hasInViewAlready = true;\n          elemsInView.push(currentContent);\n        } else {\n          elemsOutView.push(currentContent);\n        }\n\n        var isLastItem = i === max - 1;\n\n        var isScrolled = this._isScrolled(); // https://github.com/makotot/react-scrollspy/pull/26#issue-167413769\n\n\n        var isLastShortItemAtBottom = this._isAtBottom() && this._isInView(currentContent) && !isInView && isLastItem && isScrolled;\n\n        if (isLastShortItemAtBottom) {\n          elemsOutView.pop();\n          elemsOutView.push.apply(elemsOutView, (0, _toConsumableArray2.default)(elemsInView));\n          elemsInView = [currentContent];\n          viewStatusList = this._fillArray(viewStatusList, false);\n          isInView = true;\n        }\n\n        viewStatusList.push(isInView);\n      }\n\n      return {\n        inView: elemsInView,\n        outView: elemsOutView,\n        viewStatusList: viewStatusList,\n        scrolledPast: this.props.scrolledPastClassName && this._getScrolledPast(viewStatusList)\n      };\n    }\n  }, {\n    key: \"_isInView\",\n    value: function _isInView(el) {\n      if (!el) {\n        return false;\n      }\n\n      var _this$props = this.props,\n          rootEl = _this$props.rootEl,\n          offset = _this$props.offset;\n      var rootRect;\n\n      if (rootEl) {\n        rootRect = document.querySelector(rootEl).getBoundingClientRect();\n      }\n\n      var rect = el.getBoundingClientRect();\n      var winH = rootEl ? rootRect.height : window.innerHeight;\n\n      var _this$_getScrollDimen = this._getScrollDimension(),\n          scrollTop = _this$_getScrollDimen.scrollTop;\n\n      var scrollBottom = scrollTop + winH;\n      var elTop = rootEl ? rect.top + scrollTop - rootRect.top + offset : rect.top + scrollTop + offset;\n      var elBottom = elTop + el.offsetHeight;\n      return elTop < scrollBottom && elBottom > scrollTop;\n    }\n  }, {\n    key: \"_isAtBottom\",\n    value: function _isAtBottom() {\n      var rootEl = this.props.rootEl;\n\n      var _this$_getScrollDimen2 = this._getScrollDimension(),\n          scrollTop = _this$_getScrollDimen2.scrollTop,\n          scrollHeight = _this$_getScrollDimen2.scrollHeight;\n\n      var winH = rootEl ? document.querySelector(rootEl).getBoundingClientRect().height : window.innerHeight;\n      var scrolledToBottom = scrollTop + winH >= scrollHeight;\n      return scrolledToBottom;\n    }\n  }, {\n    key: \"_getScrolledPast\",\n    value: function _getScrolledPast(viewStatusList) {\n      if (!viewStatusList.some(function (item) {\n        return item;\n      })) {\n        return viewStatusList;\n      }\n\n      var hasFoundInView = false;\n      var scrolledPastItems = viewStatusList.map(function (item) {\n        if (item && !hasFoundInView) {\n          hasFoundInView = true;\n          return false;\n        }\n\n        return !hasFoundInView;\n      });\n      return scrolledPastItems;\n    }\n  }, {\n    key: \"_spy\",\n    value: function _spy(targets) {\n      var _this2 = this;\n\n      var elemensViewState = this._getElemsViewState(targets);\n\n      var currentStatuses = this.state.inViewState;\n      this.setState({\n        inViewState: elemensViewState.viewStatusList,\n        isScrolledPast: elemensViewState.scrolledPast\n      }, function () {\n        _this2._update(currentStatuses);\n      });\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(prevStatuses) {\n      if (isEqualArray(this.state.inViewState, prevStatuses)) {\n        return;\n      }\n\n      this.props.onUpdate(this.state.targetItems[this.state.inViewState.indexOf(true)]);\n    }\n  }, {\n    key: \"_handleSpy\",\n    value: function _handleSpy() {\n      (0, _throttle.default)(this._spy(), 100);\n    }\n  }, {\n    key: \"_initFromProps\",\n    value: function _initFromProps() {\n      var targetItems = this._initSpyTarget(this.props.items);\n\n      this.setState({\n        targetItems: targetItems\n      });\n\n      this._spy(targetItems);\n    }\n  }, {\n    key: \"offEvent\",\n    value: function offEvent() {\n      var el = this.props.rootEl ? document.querySelector(this.props.rootEl) : window;\n      el.removeEventListener('scroll', this._handleSpy);\n    }\n  }, {\n    key: \"onEvent\",\n    value: function onEvent() {\n      var el = this.props.rootEl ? document.querySelector(this.props.rootEl) : window;\n      el.addEventListener('scroll', this._handleSpy);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._initFromProps();\n\n      this.onEvent();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.offEvent();\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps() {\n      this._initFromProps();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var Tag = this.props.componentTag;\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          className = _this$props2.className,\n          scrolledPastClassName = _this$props2.scrolledPastClassName,\n          style = _this$props2.style;\n      var counter = 0;\n\n      var items = _react.default.Children.map(children, function (child, idx) {\n        var _classNames;\n\n        if (!child) {\n          return null;\n        }\n\n        var ChildTag = child.type;\n        var isScrolledPast = scrolledPastClassName && _this3.state.isScrolledPast[idx];\n        var childClass = (0, _classnames.default)((_classNames = {}, (0, _defineProperty2.default)(_classNames, \"\".concat(child.props.className), child.props.className), (0, _defineProperty2.default)(_classNames, \"\".concat(_this3.props.currentClassName), _this3.state.inViewState[idx]), (0, _defineProperty2.default)(_classNames, \"\".concat(_this3.props.scrolledPastClassName), isScrolledPast), _classNames));\n        return _react.default.createElement(ChildTag, (0, _extends2.default)({}, child.props, {\n          className: childClass,\n          key: counter++\n        }), child.props.children);\n      });\n\n      var itemClass = (0, _classnames.default)((0, _defineProperty2.default)({}, \"\".concat(className), className));\n      return _react.default.createElement(Tag, {\n        className: itemClass,\n        style: style\n      }, items);\n    }\n  }]);\n  return Scrollspy;\n}(_react.default.Component);\n\nexports.default = Scrollspy;","map":{"version":3,"sources":["C:/SchoolWork/grizzly-hacks-ws/reactproto/node_modules/react-scrollspy/lib/scrollspy.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_extends2","_defineProperty2","_toConsumableArray2","_classCallCheck2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_createClass2","_inherits2","_propTypes","_react","_classnames","_throttle","isEqualArray","a","b","length","every","item","index","Scrollspy","_React$Component","key","get","items","arrayOf","string","isRequired","currentClassName","scrolledPastClassName","style","object","componentTag","oneOfType","element","offset","number","rootEl","onUpdate","func","props","_this","call","state","targetItems","inViewState","isScrolledPast","_handleSpy","bind","_initSpyTarget","map","document","getElementById","_fillArray","array","val","newArray","i","max","_isScrolled","_getScrollDimension","scrollTop","doc","querySelector","documentElement","body","parentNode","scrollHeight","_getElemsViewState","targets","elemsInView","elemsOutView","viewStatusList","hasInViewAlready","currentContent","isInView","_isInView","push","isLastItem","isScrolled","isLastShortItemAtBottom","_isAtBottom","pop","apply","inView","outView","scrolledPast","_getScrolledPast","el","_this$props","rootRect","getBoundingClientRect","rect","winH","height","window","innerHeight","_this$_getScrollDimen","scrollBottom","elTop","top","elBottom","offsetHeight","_this$_getScrollDimen2","scrolledToBottom","some","hasFoundInView","scrolledPastItems","_spy","_this2","elemensViewState","currentStatuses","setState","_update","prevStatuses","indexOf","_initFromProps","offEvent","removeEventListener","onEvent","addEventListener","componentDidMount","componentWillUnmount","UNSAFE_componentWillReceiveProps","render","_this3","Tag","_this$props2","children","className","counter","Children","child","idx","_classNames","ChildTag","type","childClass","concat","createElement","itemClass","Component"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _throttle = _interopRequireDefault(require(\"./throttle\"));\n\nfunction isEqualArray(a, b) {\n  return a.length === b.length && a.every(function (item, index) {\n    return item === b[index];\n  });\n}\n\nvar Scrollspy =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inherits2.default)(Scrollspy, _React$Component);\n  (0, _createClass2.default)(Scrollspy, null, [{\n    key: \"propTypes\",\n    get: function get() {\n      return {\n        items: _propTypes.default.arrayOf(_propTypes.default.string).isRequired,\n        currentClassName: _propTypes.default.string.isRequired,\n        scrolledPastClassName: _propTypes.default.string,\n        style: _propTypes.default.object,\n        componentTag: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.element]),\n        offset: _propTypes.default.number,\n        rootEl: _propTypes.default.string,\n        onUpdate: _propTypes.default.func\n      };\n    }\n  }, {\n    key: \"defaultProps\",\n    get: function get() {\n      return {\n        items: [],\n        currentClassName: '',\n        style: {},\n        componentTag: 'ul',\n        offset: 0,\n        onUpdate: function onUpdate() {}\n      };\n    }\n  }]);\n\n  function Scrollspy(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Scrollspy);\n    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(Scrollspy).call(this, props));\n    _this.state = {\n      targetItems: [],\n      inViewState: [],\n      isScrolledPast: [] // manually bind as ES6 does not apply this\n      // auto binding as React.createClass does\n\n    };\n    _this._handleSpy = _this._handleSpy.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  (0, _createClass2.default)(Scrollspy, [{\n    key: \"_initSpyTarget\",\n    value: function _initSpyTarget(items) {\n      var targetItems = items.map(function (item) {\n        return document.getElementById(item);\n      });\n      return targetItems;\n    } // https://github.com/makotot/react-scrollspy/pull/45\n\n  }, {\n    key: \"_fillArray\",\n    value: function _fillArray(array, val) {\n      var newArray = [];\n\n      for (var i = 0, max = array.length; i < max; i++) {\n        newArray[i] = val;\n      }\n\n      return newArray;\n    }\n  }, {\n    key: \"_isScrolled\",\n    value: function _isScrolled() {\n      return this._getScrollDimension().scrollTop > 0;\n    }\n  }, {\n    key: \"_getScrollDimension\",\n    value: function _getScrollDimension() {\n      var doc = document;\n      var rootEl = this.props.rootEl;\n      var scrollTop = rootEl ? doc.querySelector(rootEl).scrollTop : doc.documentElement.scrollTop || doc.body.parentNode.scrollTop || doc.body.scrollTop;\n      var scrollHeight = rootEl ? doc.querySelector(rootEl).scrollHeight : doc.documentElement.scrollHeight || doc.body.parentNode.scrollHeight || doc.body.scrollHeight;\n      return {\n        scrollTop: scrollTop,\n        scrollHeight: scrollHeight\n      };\n    }\n  }, {\n    key: \"_getElemsViewState\",\n    value: function _getElemsViewState(targets) {\n      var elemsInView = [];\n      var elemsOutView = [];\n      var viewStatusList = [];\n      var targetItems = targets ? targets : this.state.targetItems;\n      var hasInViewAlready = false;\n\n      for (var i = 0, max = targetItems.length; i < max; i++) {\n        var currentContent = targetItems[i];\n        var isInView = hasInViewAlready ? false : this._isInView(currentContent);\n\n        if (isInView) {\n          hasInViewAlready = true;\n          elemsInView.push(currentContent);\n        } else {\n          elemsOutView.push(currentContent);\n        }\n\n        var isLastItem = i === max - 1;\n\n        var isScrolled = this._isScrolled(); // https://github.com/makotot/react-scrollspy/pull/26#issue-167413769\n\n\n        var isLastShortItemAtBottom = this._isAtBottom() && this._isInView(currentContent) && !isInView && isLastItem && isScrolled;\n\n        if (isLastShortItemAtBottom) {\n          elemsOutView.pop();\n          elemsOutView.push.apply(elemsOutView, (0, _toConsumableArray2.default)(elemsInView));\n          elemsInView = [currentContent];\n          viewStatusList = this._fillArray(viewStatusList, false);\n          isInView = true;\n        }\n\n        viewStatusList.push(isInView);\n      }\n\n      return {\n        inView: elemsInView,\n        outView: elemsOutView,\n        viewStatusList: viewStatusList,\n        scrolledPast: this.props.scrolledPastClassName && this._getScrolledPast(viewStatusList)\n      };\n    }\n  }, {\n    key: \"_isInView\",\n    value: function _isInView(el) {\n      if (!el) {\n        return false;\n      }\n\n      var _this$props = this.props,\n          rootEl = _this$props.rootEl,\n          offset = _this$props.offset;\n      var rootRect;\n\n      if (rootEl) {\n        rootRect = document.querySelector(rootEl).getBoundingClientRect();\n      }\n\n      var rect = el.getBoundingClientRect();\n      var winH = rootEl ? rootRect.height : window.innerHeight;\n\n      var _this$_getScrollDimen = this._getScrollDimension(),\n          scrollTop = _this$_getScrollDimen.scrollTop;\n\n      var scrollBottom = scrollTop + winH;\n      var elTop = rootEl ? rect.top + scrollTop - rootRect.top + offset : rect.top + scrollTop + offset;\n      var elBottom = elTop + el.offsetHeight;\n      return elTop < scrollBottom && elBottom > scrollTop;\n    }\n  }, {\n    key: \"_isAtBottom\",\n    value: function _isAtBottom() {\n      var rootEl = this.props.rootEl;\n\n      var _this$_getScrollDimen2 = this._getScrollDimension(),\n          scrollTop = _this$_getScrollDimen2.scrollTop,\n          scrollHeight = _this$_getScrollDimen2.scrollHeight;\n\n      var winH = rootEl ? document.querySelector(rootEl).getBoundingClientRect().height : window.innerHeight;\n      var scrolledToBottom = scrollTop + winH >= scrollHeight;\n      return scrolledToBottom;\n    }\n  }, {\n    key: \"_getScrolledPast\",\n    value: function _getScrolledPast(viewStatusList) {\n      if (!viewStatusList.some(function (item) {\n        return item;\n      })) {\n        return viewStatusList;\n      }\n\n      var hasFoundInView = false;\n      var scrolledPastItems = viewStatusList.map(function (item) {\n        if (item && !hasFoundInView) {\n          hasFoundInView = true;\n          return false;\n        }\n\n        return !hasFoundInView;\n      });\n      return scrolledPastItems;\n    }\n  }, {\n    key: \"_spy\",\n    value: function _spy(targets) {\n      var _this2 = this;\n\n      var elemensViewState = this._getElemsViewState(targets);\n\n      var currentStatuses = this.state.inViewState;\n      this.setState({\n        inViewState: elemensViewState.viewStatusList,\n        isScrolledPast: elemensViewState.scrolledPast\n      }, function () {\n        _this2._update(currentStatuses);\n      });\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(prevStatuses) {\n      if (isEqualArray(this.state.inViewState, prevStatuses)) {\n        return;\n      }\n\n      this.props.onUpdate(this.state.targetItems[this.state.inViewState.indexOf(true)]);\n    }\n  }, {\n    key: \"_handleSpy\",\n    value: function _handleSpy() {\n      (0, _throttle.default)(this._spy(), 100);\n    }\n  }, {\n    key: \"_initFromProps\",\n    value: function _initFromProps() {\n      var targetItems = this._initSpyTarget(this.props.items);\n\n      this.setState({\n        targetItems: targetItems\n      });\n\n      this._spy(targetItems);\n    }\n  }, {\n    key: \"offEvent\",\n    value: function offEvent() {\n      var el = this.props.rootEl ? document.querySelector(this.props.rootEl) : window;\n      el.removeEventListener('scroll', this._handleSpy);\n    }\n  }, {\n    key: \"onEvent\",\n    value: function onEvent() {\n      var el = this.props.rootEl ? document.querySelector(this.props.rootEl) : window;\n      el.addEventListener('scroll', this._handleSpy);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._initFromProps();\n\n      this.onEvent();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.offEvent();\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps() {\n      this._initFromProps();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var Tag = this.props.componentTag;\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          className = _this$props2.className,\n          scrolledPastClassName = _this$props2.scrolledPastClassName,\n          style = _this$props2.style;\n      var counter = 0;\n\n      var items = _react.default.Children.map(children, function (child, idx) {\n        var _classNames;\n\n        if (!child) {\n          return null;\n        }\n\n        var ChildTag = child.type;\n        var isScrolledPast = scrolledPastClassName && _this3.state.isScrolledPast[idx];\n        var childClass = (0, _classnames.default)((_classNames = {}, (0, _defineProperty2.default)(_classNames, \"\".concat(child.props.className), child.props.className), (0, _defineProperty2.default)(_classNames, \"\".concat(_this3.props.currentClassName), _this3.state.inViewState[idx]), (0, _defineProperty2.default)(_classNames, \"\".concat(_this3.props.scrolledPastClassName), isScrolledPast), _classNames));\n        return _react.default.createElement(ChildTag, (0, _extends2.default)({}, child.props, {\n          className: childClass,\n          key: counter++\n        }), child.props.children);\n      });\n\n      var itemClass = (0, _classnames.default)((0, _defineProperty2.default)({}, \"\".concat(className), className));\n      return _react.default.createElement(Tag, {\n        className: itemClass,\n        style: style\n      }, items);\n    }\n  }]);\n  return Scrollspy;\n}(_react.default.Component);\n\nexports.default = Scrollspy;"]},"metadata":{},"sourceType":"script"}